<div class="agt-home-tourpackage ">

  <!-- ADD BUTTON -->
  <div class="add-agentbutton" ng-if="template.isLoggedIn && template.isMine">
    <div class="container">
      <div class="clearfix">
        <div class="pull-right">
          <div class="add-agtitinerary">
            <span class="pointer add-holder" ng-click="addItinerary();" ng-class="{'close-more' : showItinerary == true}"><i class="fa fa-plus"></i></span>
            <div class="add-more-itinerary" ng-show="showItinerary">
              <p class="color-cyan">Enter Details - Tours &amp; Packages</p>
              <div class="add-tourpackage">
                <form>
                  <div class="">
                    <div class="a">
                      <input type="text" class="form-control color-white" placeholder="Tour Title" ng-model="tour.title">
                    </div>
                  </div>￼

                  <!-- tour-type -->
                  <div class="tour-type">
                    <div class="tour-typeinput">
                      <div class="">
                        <div class="a collapsed" data-toggle="collapse" data-target="#demo">
                          <input type="text" class="form-control color-white" placeholder="Type of Holiday/Tour" ng-model="tour.typeOfHoliday" disabled>
                          <i class="fa fa-angle-down color-white type-tourarrow arrow-down down"></i>
                          <i class="fa fa-angle-up color-white type-tourarrow arrow-up up"></i>
                        </div>
                      </div>

                    </div> ￼
                    <div class="collapse optiondiv" id="demo">
                      <div class="tour-typeoption">
                        <ul class="list-inline">
                          <li ng-repeat="tourtype in categoriesSpecial track by $index">
                            <figure class="tourcategory {{tourtype.class}}" ng-click="selectCategory(tourtype)">
                              <div class="tourcategory-img">
                                <img ng-src="{{tourtype.tourImgCat}}" width="{{tourtype.catwidth}}" alt="" class="img-responsive">
                              </div>
                              <figcaption>{{tourtype.tourCat}}</figcaption>
                            </figure>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <!-- tour-type end -->

                  <!-- currency list -->
                  <div class="form-group">
                    <div class="tour-type tour-select">
                      <ui-select ng-model="tour.currency" theme="bootstrap">
                        <ui-select-match placeholder="Currency ">{{$select.selected.currency}}</ui-select-match>
                        <ui-select-choices repeat="currency.currency as currency in countries | filter: $select.search track by $index">
                          <div class="clearfix">
                            <span class="tour-optionselect pull-left">{{currency.name}}</span>
                            <span class="tour-optionselect pull-right">{{currency.currency}}</span>
                          </div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>
                  <!-- currency list end -->

                  <!-- TOUR PRICE -->
                  <div class="form-group">
                    <div class="a tour-price">
                      <input type="number" class="form-control color-white" placeholder="Price" ng-model="tour.price">
                    </div>
                  </div>
                  <!-- TOUR PRICE END -->

                  <!-- NIGHTS  DAYS -->
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <div class="a">
                          <input ng-disabled="tour.hours.length > 0||tour.minutes.length > 0" type="text" class="form-control color-white" placeholder="Nights" ng-model="tour.nights">
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <div class="a">
                          <input type="text" ng-disabled="tour.hours.length > 0||tour.minutes.length > 0" class="form-control color-white" placeholder="Days" ng-model="tour.days">
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- NIGHTS  DAYS END -->

                  <p class="color-white avenir-roman text-center m-clear">OR</p>

                  <!-- HOURS MINUTES -->
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <div class="a">
                          <input type="text" ng-disabled="tour.nights.length > 0||tour.days.length > 0" class="form-control color-white" placeholder="Hours" ng-model="tour.hours">
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <div class="a">
                          <input type="text" ng-disabled="tour.nights.length > 0||tour.days.length > 0" class="form-control color-white" placeholder="Minutes" ng-model="tour.minutes">
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- HOURS MINUTES END -->

                  <!-- COUNTRY UI SELECT -->
                  <div class="form-group">
                    <div class="tour-type tour-select">
                      <ui-select multiple ng-model="tour.country" theme="bootstrap" title="Country">
                        <ui-select-match placeholder="Country">{{$item.name}}</ui-select-match>
                        <ui-select-choices repeat="country._id as country in countries | filter: $select.search track by $index">
                          <div>
                            <span class="color-white">{{country.name}}</span>
                          </div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>
                  <!-- COUNTRY UI SELECT END -->

                  <!-- BOOKING URL -->
                  <div class="form-group">
                    <div class="a">
                      <input type="text" class="form-control color-white" placeholder="Your Website Booking Link URL" ng-model="tour.bookingUrl">
                    </div>
                  </div>
                  <!-- BOOKING URL END -->

                  <p class="font-sz10 color-pink">* Please Enter Missing Details</p>

                  <!-- upload buttons -->
                  <div class="button-touruploads">
                    <div class="tour-uploads tour-pdf relate pointer" ng-hide="showTourPdf">
                      <button class="btn btn-white-outline pointer">Upload Pdf</button>
                      <upload-image ng-model="tour.pdf" ng-callback="tourPdf(data);" allow-type="application/pdf" no-view class="tour-uploadinput pointer"></upload-image>
                    </div>
                    <div class="tour-uploads tour-pic relate pointer" ng-hide="showTourPic">
                      <button class="btn btn-white-outline pointer">Upload Display Picture</button>
                      <upload-image ng-model="tour.displayPic" ng-callback="tourPhoto(data);" allow-type="image/*" no-view class="pointer tour-uploadinput"></upload-image>
                    </div>
                    <button class="btn btn-pink btn-more tourupload-position" ng-click="saveTour(tour);">SAVE</button>
                  </div>
                  <!-- upload buttons end -->

                  <!-- file preview holder -->
                  <div class="tourfile-preview">
                    <div class="tour-pdf-preview" title="{{tour.pdf}}" ng-show="showTourPdf">
                      <div class="tour-pdf-holder">
                        <img src="img/icons/pdf.png" alt="{{tour.pdf}}" class="img-responsive">
                        <span class="remove-preview" ng-click="removeTourPdf();" title="Remove"><i class="fa fa-times color-white"></i></span>
                      </div>
                    </div>
                    <div class="tour-dp-preview" title="{{tour.displayPic}}" ng-show="showTourPic">
                      <div class="tour-dp-holder">
                        <img ng-src="{{tour.displayPic | uploadpath}}" alt="" class="img-responsive get-center">
                        <span class="remove-preview" ng-click="removeTourPic();" title="Remove"><i class="fa fa-times color-white"></i></span>
                      </div>
                    </div>
                  </div>
                  <!-- file preview holder end -->
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ADD BUTTON END-->

  <!-- EMPTY AGENT INTRO BOX -->
  <div class="empty-intro " ng-if="tourData.length==0 && template.isLoggedIn && template.isMine">
    <div class="container">
      <div class="row">
        <div class="col-md-6 col-sm-12">
          <div class="agthome-tourpackage-youtube">
            <iframe src="https://www.youtube.com/embed/IUNM1AeHOv4" frameborder="0" allowfullscreen width="100%" height="100%"></iframe>

            <!-- <div class="youtube-placeholder">
              <img src="img/paris.jpg" alt="" class="img-responsive">
            </div> -->
          </div>
        </div>
        <div class="col-md-5 col-sm-12">
          <div class="agt-home-tourpackageintro">
            <h3 class="color-blue">
              Fill in this space to give travel lovers a better sense of what your company has to offer.</h3>
            <p class="color-blue">Regularly updating your library with new deals, keeps travellers interedted and informed about how touring with
              your agency can make a good tour/trip, great!</p>
            <!-- <button class="btn btn-pink btn-more" hidden><i class="fa fa-lock color-white"></i> UPGRADE</button> -->
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- EMPTY AGENT INTRO BOX END -->

  <!-- EMPTY USER INTRO -->
  <div class="empty-intro   avenir-roman" ng-if="tourData.length==0 && !template.isMine">
    <div class="container">
      <div class="row">
        <div class="col-md-offset-2 col-md-8">
          <div class="agt-user-intro">
            <h3 class="color-blue avenir-heavy text-capitalize">{{userData.name}}</h3>
            <p class="color-blue">is still to upload this space with interesting tours & packages</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- EMPTY USER INTRO END -->

  <!-- TOURS & PACKAGE CARDS -->
  <div class="agent-cardsection" ng-if="tourData.length>0">
    <div class="container">
      <div class="row">
        <div class="col-md-4 col-sm-6" ng-repeat="tourcard in tourData track by $index">
          <div class="agt-itinerarycard">
            <div class="itinerary-img">
              <div class="theme">
                <div class="theme-img">
                  <img ng-src="{{tourcard.typeOfHoliday[0] | kindOfJourney:'white'}}" class="img-responsive" alt="{{tourcard.typeOfHoliday[0]}}">
                </div>
                <div class="theme-name">
                  <p>{{tourcard.typeOfHoliday[0]}}</p>
                </div>
              </div>
              <div class="country-badges">
                <div class="country-holder" ng-repeat="tourcountryflag in tourcard.country | limitTo : 3">
                  <img ng-src="{{tourcountryflag.flag|uploadpath}}" alt="{{tourcountryflag.name}}" class="pointer img-responsive" title="{{tourcountryflag.name}}">
                </div>
                <span class="country-count color-blue" ng-if="tourcard.country.length>3">+{{tourcard.country.length-3}}</span>
              </div>
              <img ng-src="{{tourcard.displayPic|uploadpath:380:250:'cover'}}" alt="{{tourcard.title}} | Travel Libro" class="img-responsive"
              />
              <div class="itinerary-imgfoot ">
                <div class="call-btn" ng-click="showContact();" ng-if="!template.isMine">
                  <i class="fa fa-phone" aria-hidden="true"></i>
                </div>
                <div class="imgfoot-top clearfix">
                  <div class="pull-left">
                    <h4 class="font-sz18 text-capitalize avenir-heavy">{{tourcard.title}}</h4>
                    <p class="day-night" ng-if="tourcard.nights && tourcard.days"><span>{{tourcard.nights}} Nights</span> | <span>{{tourcard.days}} Days</span></p>
                    <p class="day-night" ng-if="tourcard.hours && tourcard.minutes"><span>{{tourcard.hours}} Hours</span> | <span>{{tourcard.minutes}} Minutes</span></p>
                    <!-- <p class="font-sz10"><i class="fa fa-calendar"></i><span class="ml5  ng-binding">{{tourcard.createdAt | formatDate:'date' }}</span>                      | <i class="fa fa-clock-o mr5"></i> <span class="ng-binding">{{tourcard.createdAt | formatDate:'time' }}</span></p> -->
                  </div>
                  <div class="pull-right">
                    <p class="font-sz18 cost-posi">${{tourcard.price}}</p>
                  </div>
                  <div class="tour-btns">
                    <button class="btn btn-pink btn-download" ng-if="tourcard.pdf"><a href="http://192.168.2.12:1337/api/download/{{tourcard.pdf}}/tours&packages/{{tourcard._id}}" class="btn-link"  download>Download</a></button>
                    <button class="btn btn-pink btn-book" ng-if="tourcard.bookingUrl"><a href="{{tourcard.bookingUrl}}" target="_blank" class="btn-link">Book</a></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- TOURS & PACKAGE CARDS END -->
</div>
